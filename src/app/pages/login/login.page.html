<ion-header>
    <ion-toolbar class="toolbar">
        <ion-thumbnail class="logo" slot="start">
            <img src="/assets/images/Mazars_Logo.jpg">
        </ion-thumbnail>
        <div class="languages"><span class="nav-link">En |</span>
            <span class="nav-link al-span">Al</span></div>
    </ion-toolbar>
</ion-header>
<ion-content class="register-login-content">
    <ion-grid>
        <ion-row>
            <ion-col size-md="8" size-sm="12" size="12" offset-md="2">
                <ion-card>
                    <ion-card-header class="reg-log-card-header">
                        <ion-segment [(ngModel)]="segmentModel" class="reg-login-segment">
                            <ion-segment-button value="new_users" class="reg-login-segment-button">
                                <ion-label>New Users</ion-label>
                            </ion-segment-button>
                            <ion-segment-button value="existing_users" class="reg-login-segment-button">
                                <ion-label>Existing Users</ion-label>
                            </ion-segment-button>
                        </ion-segment>
                    </ion-card-header>
                    <div [ngSwitch]="segmentModel">
                        <ion-card-content *ngSwitchCase="'existing_users'">
                            <ion-grid class="register-form">
                                <form name="form" #f="ngForm">
                                    <ion-row>
                                        <ion-col class="login-col">
                                            <ion-label class="login-label">Log in to your account</ion-label>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="login-labels">DonÂ´t have an account?</ion-label>
                                            <a class="login-link" (click)="goToRegister()"><span class="login-span">Sign
                                                    Up</span></a>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-input class="login-input" placeholder="Username" name="email" [(ngModel)]="emailForLogin" #emailInput="ngModel" [ngClass]="{ 'is-invalid':(emailInput.dirty||emailInput.touched)&&emailInput.invalid }" required email></ion-input>
                                            <div *ngIf="emailInput.invalid&& (emailInput.dirty || emailInput.touched)" class="invalid-feedback">
                                                <div *ngIf="emailInput.errors.required" class="invalid-input">Please enter your email address</div>
                                                <div *ngIf="emailInput.errors.email" class="invalid-input">Email must be a valid email address</div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-input class="password-input" type="password" placeholder="Password" name="password" [(ngModel)]="passwordForLogin" #Password="ngModel" [ngClass]="{ 'is-invalid':(Password.dirty||Password.touched)&& Password.invalid }" required></ion-input>
                                            <div *ngIf="Password.invalid&& (Password.dirty || Password.touched)" class="invalid-feedback">
                                                <div *ngIf="Password.errors.required" class="invalid-input">Please enter your password</div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col offset="6">
                                            <a routerLink="/reset-password" class="login-link">
                                                <ion-label class="login-labels forgot-pass">Forgot password ?
                                                </ion-label>
                                            </a>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-button class="login-register-buttons login-button" size="small" (click)="onLogin() ">
                                                Login
                                            </ion-button>
                                        </ion-col>
                                    </ion-row>
                                </form>
                            </ion-grid>
                        </ion-card-content>
                        <ion-card-content *ngSwitchCase="'new_users'">
                            <ion-grid class="register-form register-section">
                                <form name="form" #f="ngForm">
                                    <ion-row>
                                        <ion-col class="register-section-heading">
                                            <ion-label class="register-section-label">Personal Details</ion-label>
                                            <hr class="horizontal-line">
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">First Name *</ion-label>
                                            <ion-input type="text" name="firstName" [(ngModel)]="firstName" required>
                                            </ion-input>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Last Name *</ion-label>
                                            <ion-input type="text" name="lastName" [(ngModel)]="lastName" required>
                                            </ion-input>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Company *</ion-label>
                                            <ion-input type="text" name="company" [(ngModel)]="company" required>
                                            </ion-input>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Industry *</ion-label>
                                            <ion-item>
                                                <ion-label class="form-label select-label" [ngStyle]="{'display':industrySelected?'none':''}">
                                                    Please select
                                                </ion-label>
                                                <ion-select value="industries" interface="action-sheet" (ionChange)="selectIndustry()" [(ngModel)]="current_group" name="group" required>
                                                    <ion-select-option *ngFor="let userGroup of userGroups" [value]="userGroup">
                                                        {{userGroup.name}}</ion-select-option>
                                                </ion-select>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Profession *</ion-label>
                                            <ion-item>
                                                <ion-label class="form-label select-label" [ngStyle]="{'display':proffesionSelected?'none':''}">
                                                    Please select
                                                </ion-label>
                                                <ion-select value="professions" interface="action-sheet" (ionChange)="selectProffesion()" [(ngModel)]="current_category" name="category" required>
                                                    <ion-select-option *ngFor="let userCategory of userCategories" [value]="userCategory">
                                                        {{userCategory.name}}</ion-select-option>
                                                </ion-select>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">
                                                Email Address *
                                            </ion-label>
                                            <ion-input type="email" name="email" [(ngModel)]="email" #emailInput="ngModel" [ngClass]="{ 'is-invalid':(emailInput.dirty||emailInput.touched)&&emailInput.invalid }" required email>
                                            </ion-input>
                                            <div *ngIf="emailInput.invalid&& (emailInput.dirty || emailInput.touched)" class="invalid-feedback">
                                                <div *ngIf="emailInput.errors.required" class="invalid-input">Please enter your email address
                                                </div>
                                                <div *ngIf="emailInput.errors.email" class="invalid-input">Email must be a valid email address
                                                </div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Password *</ion-label>
                                            <ion-input type="password" name="newPassword" [(ngModel)]="password" #Password="ngModel" [ngClass]="{ 'is-invalid':(Password.dirty||Password.touched)&& Password.invalid }" required minlength="6">
                                            </ion-input>
                                            <div *ngIf="Password.invalid&& (Password.dirty || Password.touched)" class="invalid-feedback">
                                                <div *ngIf="Password.errors.required" class="invalid-input">Please enter your password</div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Confirm Password *</ion-label>
                                            <ion-input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" #ConfirmPassword="ngModel" [ngClass]="{ 'is-invalid': (ConfirmPassword.dirty||ConfirmPassword.touched)&& ConfirmPassword.invalid }" required>
                                            </ion-input>
                                            <div *ngIf="ConfirmPassword.invalid&& (ConfirmPassword.dirty || ConfirmPassword.touched)" class="invalid-feedback">
                                                <div *ngIf="ConfirmPassword.errors.required" class="invalid-input" class="invalid-input">Confirm Password is required
                                                </div>

                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <p class="form-label register-section-para">Please note your Email address will be your username.</p>
                                            <p class="form-label register-section-para">Please ensure your password is six characters or over and includes at least one uppercase character.
                                            </p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col class="register-section-heading">
                                            <ion-label class="register-section-label">
                                                Terms and Conditions
                                            </ion-label>
                                            <hr class="horizontal-line">
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col size-md="4" size-sm="12" size="12">
                                            <ion-label class="form-label">I agree to comply with the Terms and Conditions of this site *
                                            </ion-label>
                                        </ion-col>
                                        <ion-col size-md="6" size-sm="12" size="12">
                                            <ion-checkbox [(ngModel)]="condition1" [ngClass]="{'invalid-data': Condition1.invalid && f.submitted, 'valid-data': Condition1.valid && f.submitted}" required name="condition1" #Condition1="ngModel"></ion-checkbox>
                                            <ion-label class="form-label">Yes</ion-label>
                                            <p> <a href="#" class="register-link">Click here to view the Terms and
                                                    Conditions</a></p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col size-md="4" size-sm="12" size="12">
                                            <ion-label class="form-label">I have read and understood the data protection policy *
                                            </ion-label>
                                        </ion-col>
                                        <ion-col size-md="6" size-sm="12" size="12">
                                            <ion-checkbox [(ngModel)]="condition2" [ngClass]="{'invalid-data': Condition2.invalid && f.submitted, 'valid-data': Condition2.valid && f.submitted}" required name="condition2" #Condition2="ngModel"></ion-checkbox>
                                            <ion-label class="form-label">Yes</ion-label>
                                            <p><a href="#" class="register-link">Click here to view
                                                    the data protection policy</a></p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col class="register-section-heading">
                                            <ion-label class="register-section-label">
                                                Source
                                            </ion-label>
                                            <hr class="horizontal-line">
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <p class="form-label">How did you hear about Mazars?</p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-label class="form-label">Please select most influential *
                                            </ion-label>
                                            <ion-item>
                                                <ion-label class="form-label select-label" [ngStyle]="{'display':influentialSelected?'none':''}">
                                                    Please select
                                                </ion-label>
                                                <ion-select interface="action-sheet" (ionChange)="selectInfluential()" [(ngModel)]="source" name="source" #sourcE="ngModel" [ngClass]="{ 'is-invalid': f.submitted }" required>
                                                    <ion-select-option *ngFor="let source of sources">{{source.name}}
                                                    </ion-select-option>
                                                </ion-select>
                                                <div *ngIf="f.submitted && sourcE.invalid && !source" class="invalid-input">
                                                    Source is required
                                                </div>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-button class="login-register-buttons register-button" size="small" (click)="onSubmit()" [disabled]="f.invalid">Register
                                            </ion-button>
                                        </ion-col>
                                    </ion-row>
                                </form>
                            </ion-grid>
                        </ion-card-content>
                    </div>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>